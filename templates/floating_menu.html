<!-- floating_menu.html -->
<style>
  .floating-toggle {
    position: fixed;
    bottom: 18px;
    left: 50%;
    transform: translateX(-50%);
    width: 58px; height: 58px;
    background: transparent;
    border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    z-index: 1000; cursor: pointer;
    -webkit-tap-highlight-color: transparent;
  }
  .floating-menu {
    position: fixed;
    bottom: 90px; left: 50%;
    transform: translateX(-50%);
    background: #fff; border-radius: 16px;
    padding: 10px; display: none;
    flex-direction: column; align-items: center; gap: 10px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    z-index: 999; max-height: 60vh; overflow-y: auto;
  }
  .floating-menu a img {
    width: 52px; height: 52px;
  }
</style>

<div id="floatingToggle" class="floating-toggle" aria-label="Toggle menu" role="button" tabindex="0">
  <img src="{{ url_for('static', filename='icon/icon_menu_toggle.png') }}" alt="menu" width="60" height="60">
</div>

<div id="floatingMenu" class="floating-menu" aria-hidden="true">
  <a href="{{ url_for('dashboard') }}"><img src="{{ url_for('static', filename='icon/icon_dashboard.png') }}" alt="Dashboard"></a>
  <a href="{{ url_for('sale_summary') }}"><img src="{{ url_for('static', filename='icon/icon_sale_summary.png') }}" alt="Sale summary"></a>
  <a href="{{ url_for('crm') }}"><img src="{{ url_for('static', filename='icon/icon_crm.png') }}" alt="CRM"></a>
  <a href="{{ url_for('record_sales') }}"><img src="{{ url_for('static', filename='icon/icon_record_sales.png') }}" alt="Record sales"></a>
  <a href="{{ url_for('customer_list') }}"><img src="{{ url_for('static', filename='icon/icon_customer_list.png') }}" alt="Customer list"></a>
  <a href="{{ url_for('record_customer') }}"><img src="{{ url_for('static', filename='icon/icon_customer_history.png') }}" alt="Record customer"></a>
  <a href="{{ url_for('oldsaledata') }}"><img src="{{ url_for('static', filename='icon/icon_old_customers.png') }}" alt="Old customers"></a>
  <a href="{{ url_for('inventory') }}"><img src="{{ url_for('static', filename='icon/icon_inventory.png') }}" alt="Inventory"></a>
  <a href="{{ url_for('staff') }}"><img src="{{ url_for('static', filename='icon/icon_staff.png') }}" alt="Staff"></a>
  <a href="{{ url_for('appointments') }}"><img src="{{ url_for('static', filename='icon/icon_appointments.png') }}" alt="Appointments"></a>
</div>

<script>
  const toggleBtn = document.getElementById('floatingToggle');
  const menu = document.getElementById('floatingMenu');

  function setMenu(open) {
    menu.style.display = open ? 'flex' : 'none';
    menu.setAttribute('aria-hidden', open ? 'false' : 'true');
  }
  function toggleFloatingMenu() {
    setMenu(menu.style.display !== 'flex');
  }

  // open/close
  toggleBtn.addEventListener('click', toggleFloatingMenu);
  toggleBtn.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleFloatingMenu(); }
  });

  // click outside to close
  document.addEventListener('click', (e) => {
    if (!toggleBtn.contains(e.target) && !menu.contains(e.target)) setMenu(false);
  });

  // ESC to close
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') setMenu(false);
  });
</script>




แก้ตามนี้สำหรับหน้าใหม่นะ 

style
  .floating-toggle {
    position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
    background: white; border: 1px solid var(--line);
    width: 50px; height: 50px; border-radius: 50%;
    box-shadow: 0 4px 14px rgba(0,0,0,0.15);
    display: flex; justify-content: center; align-items: center;
    z-index: 1000; cursor: pointer; transition: transform 0.1s;
  }
  .floating-toggle:active { transform: translateX(-50%) scale(0.95); }
  .floating-toggle img { width: 24px; height: 24px; opacity: 0.7; }
  
  .floating-menu {
    position: fixed; bottom: 85px; left: 50%; transform: translateX(-50%);
    background: white; border-radius: 16px; padding: 8px;
    display: none; flex-direction: column; gap: 4px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2); z-index: 999;
    width: max-content; border: 1px solid var(--line);
  }
  .floating-menu.open { display: flex; animation: slideUp 0.2s ease; }
  @keyframes slideUp { from{opacity:0; transform:translate(-50%, 10px)} to{opacity:1; transform:translate(-50%, 0)} }
  
  .floating-menu a {
    display: flex; align-items: center; gap: 10px; padding: 8px 16px;
    text-decoration: none; color: #334155; font-weight: 500; border-radius: 8px;
  }
  .floating-menu a:hover { background: #f1f5f9; color: var(--primary); }
  .floating-menu img { width: 24px; height: 24px; object-fit: contain; }
style

<div id="floatingToggle" class="floating-toggle" onclick="toggleMenu()">
  <span style="font-size:24px;">☰</span>
</div>

<div id="floatingMenu" class="floating-menu">
  <a href="{{ url_for('dashboard') }}">
    <img src="{{ url_for('static', filename='icon/icon_dashboard.png') }}" alt="dash"> แดชบอร์ด
  </a>
  <a href="{{ url_for('crm') }}">
    <img src="{{ url_for('static', filename='icon/icon_crm.png') }}" alt="crm"> ติดตามลูกค้า (CRM)
  </a>
  <a href="{{ url_for('sale_summary') }}">
    <img src="{{ url_for('static', filename='icon/icon_sale_summary.png') }}" alt="sale"> สรุปยอดขาย
  </a>
  <a href="{{ url_for('record_sales') }}">
    <img src="{{ url_for('static', filename='icon/icon_record_sales.png') }}" alt="record"> บันทึกยอดขาย
  </a>
  <a href="{{ url_for('inventory') }}">
    <img src="{{ url_for('static', filename='icon/icon_inventory.png') }}" alt="stock"> คลังสินค้า
  </a>
  <a href="{{ url_for('appointments') }}">
    <img src="{{ url_for('static', filename='icon/icon_appointments.png') }}" alt="appt"> นัดหมาย
  </a>
   <a href="{{ url_for('staff') }}">
    <img src="{{ url_for('static', filename='icon/icon_staff.png') }}" alt="staff"> พนักงาน
  </a>
</div>

script
  function toggleMenu() {
    const m = document.getElementById('floatingMenu');
    m.classList.toggle('open');
  }
  // คลิกที่อื่นเพื่อปิดเมนู
  document.addEventListener('click', (e) => {
    const t = document.getElementById('floatingToggle');
    const m = document.getElementById('floatingMenu');
    if (!t.contains(e.target) && !m.contains(e.target)) m.classList.remove('open');
  });
/script